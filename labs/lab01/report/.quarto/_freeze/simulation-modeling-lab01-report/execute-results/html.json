{
  "hash": "6ecb417f8e05d2343ff08e6f5a18256d",
  "result": {
    "engine": "julia",
    "markdown": "---\nauthor:\n  name: Дмитрий Сергеевич Кулябов\n  degrees: DSc\n  orcid: 0000-0002-0877-7063\n  email: kulyabov-ds@rudn.ru\n  affiliation:\n    - name: Российский университет дружбы народов\n      country: Российская Федерация\n      postal-code: 117198\n      city: Москва\n      address: ул. Миклухо-Маклая, д. 6\ntitle: \"Лабораторная работа №1\"\nsubtitle: \"Экспоненциальный рост\"\nformat: html\nengine: julia\njulia:\n  exeflags: [\"--project=../project\"]\nexecute:\n  echo: true\n---\n\n\n\n# Цель работы\n\nИсследовать модель экспоненциального роста.\n\n# Задание\n\nРеализовать модель экспоненциального роста в литературном стиле.\n\n# Теоретическое введение\n\nЭкспоненциальный рост описывается уравнением $\\frac{du}{dt} = \\alpha u$.\n\n# Выполнение лабораторной работы\n\n\n# Экспоненциальный рост\n**Цель:** Исследовать решение уравнения du/dt = αu.\n\n## Инициализация проекта и загрузка пакетов\n\n\n::: {#2 .cell execution_count=1}\n``` {.julia .cell-code}\nusing DrWatson\n@quickactivate \"project\"\nusing DifferentialEquations\nusing Plots\nusing DataFrames\nusing JLD2\n\nscript_name = splitext(basename(PROGRAM_FILE))[1]\nmkpath(plotsdir(script_name))\nmkpath(datadir(script_name))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n┌ Warning: DrWatson could not find find a project file by recursively checking given `dir` and its parents. Returning `nothing` instead.\n│ (given dir: /home/vvmalyuga)\n└ @ DrWatson ~/.julia/packages/DrWatson/2QF5p/src/project_setup.jl:84\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=1}\n```\n\"/home/vvmalyuga/work/study/2026-1/2026-1==study--simulation-modeling/labs/lab01/project/data/worker\"\n```\n:::\n:::\n\n\n\n\n## Определение модели\nУравнение экспоненциального роста:\n\ndu/dt = αu, u(0) = u0\n\n\n::: {#4 .cell execution_count=1}\n``` {.julia .cell-code}\nfunction exponential_growth!(du, u, p, t)\n    α = p\n    du[1] = α * u[1]\nend\n```\n\n::: {.cell-output .cell-output-display execution_count=1}\n```\nexponential_growth! (generic function with 1 method)\n```\n:::\n:::\n\n\n\n\n## Первый запуск с параметрами по умолчанию\nЗададим начальные параметры:\n\n\n::: {#6 .cell execution_count=1}\n``` {.julia .cell-code}\nu0 = [1.0]\nα = 0.3\ntspan = (0.0, 10.0)\n\nprob = ODEProblem(exponential_growth!, u0, tspan, α)\nsol = solve(prob, Tsit5(), saveat=0.1)\n```\n\n::: {.cell-output .cell-output-display execution_count=1}\n```\nretcode: Success\nInterpolation: 1st order linear\nt: 101-element Vector{Float64}:\n  0.0\n  0.1\n  0.2\n  0.3\n  0.4\n  0.5\n  0.6\n  0.7\n  0.8\n  0.9\n  ⋮\n  9.2\n  9.3\n  9.4\n  9.5\n  9.6\n  9.7\n  9.8\n  9.9\n 10.0\nu: 101-element Vector{Vector{Float64}}:\n [1.0]\n [1.030454533950446]\n [1.0618365551529674]\n [1.09417430287941]\n [1.1274968605386673]\n [1.161834232745065]\n [1.197217347699063]\n [1.2336780571872568]\n [1.2712491879500347]\n [1.3099646073864084]\n ⋮\n [15.799688704153079]\n [16.280848966976613]\n [16.776672166300525]\n [17.287605875776944]\n [17.814109831385306]\n [18.356655931432517]\n [18.91572823655281]\n [19.491822969707833]\n [20.085448516186737]\n```\n:::\n:::\n\n\n\n\n## Визуализация результатов\nПостроим график решения:\n\n\n::: {#8 .cell execution_count=1}\n``` {.julia .cell-code}\nplot(sol, label=\"u(t)\", xlabel=\"Время t\", ylabel=\"Популяция u\", title=\"Экспоненциальный рост (α = $α)\", lw=2, legend=:topleft)\nsavefig(plotsdir(script_name, \"exponential_growth_α=$α.png\"))\n```\n\n::: {.cell-output .cell-output-display execution_count=1}\n```\n\"/home/vvmalyuga/work/study/2026-1/2026-1==study--simulation-modeling/labs/lab01/project/plots/worker/exponential_growth_α=0.3.png\"\n```\n:::\n:::\n\n\n\n\n## Анализ результатов\nСоздадим таблицу с данными:\n\n\n::: {#10 .cell execution_count=1}\n``` {.julia .cell-code}\ndf = DataFrame(t=sol.t, u=first.(sol.u))\nprintln(\"Первые 5 строк результатов:\")\nprintln(first(df, 5))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nПервые 5 строк результатов:\n5×2 DataFrame\n Row │ t        u       \n     │ Float64  Float64 \n─────┼──────────────────\n   1 │     0.0  1.0\n   2 │     0.1  1.03045\n   3 │     0.2  1.06184\n   4 │     0.3  1.09417\n   5 │     0.4  1.1275\n```\n:::\n:::\n\n\n\n\nВычислим удвоение популяции:\n\n\n::: {#12 .cell execution_count=1}\n``` {.julia .cell-code}\ndoubling_time = log(2) / α\nprintln(\"\\nАналитическое время удвоения: \", round(doubling_time; digits=2))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nАналитическое время удвоения: 2.31\n```\n:::\n:::\n\n\n\n\n## Сохранение всех результатов\n\n\n::: {#14 .cell execution_count=1}\n``` {.julia .cell-code}\n@save datadir(script_name, \"all_results.jld2\") df\n```\n:::\n\n\n\n\n\n\n# Параметрическое исследование экспоненциального роста\n\n## Активация проекта и загрузка пакетов\n\n\n::: {#16 .cell execution_count=1}\n``` {.julia .cell-code}\nusing DrWatson\n@quickactivate \"project\"\nusing DifferentialEquations\nusing DataFrames\nusing Plots\nusing JLD2\nusing BenchmarkTools\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n┌ Warning: DrWatson could not find find a project file by recursively checking given `dir` and its parents. Returning `nothing` instead.\n│ (given dir: /home/vvmalyuga)\n└ @ DrWatson ~/.julia/packages/DrWatson/2QF5p/src/project_setup.jl:84\n```\n:::\n:::\n\n\n\n\nУстановка каталогов\n\n\n::: {#18 .cell execution_count=1}\n``` {.julia .cell-code}\nscript_name = splitext(basename(PROGRAM_FILE))[1]\nmkpath(plotsdir(script_name))\nmkpath(datadir(script_name))\n```\n\n::: {.cell-output .cell-output-display execution_count=1}\n```\n\"/home/vvmalyuga/work/study/2026-1/2026-1==study--simulation-modeling/labs/lab01/project/data/worker\"\n```\n:::\n:::\n\n\n\n\n## Определение модели\nМодель: du/dt = α * u\n\n\n::: {#20 .cell execution_count=1}\n``` {.julia .cell-code}\nfunction exponential_growth!(du, u, p, t)\n    α = p.α\n    du[1] = α * u[1]\nend\n```\n\n::: {.cell-output .cell-output-display execution_count=1}\n```\nexponential_growth! (generic function with 1 method)\n```\n:::\n:::\n\n\n\n\n## Определение параметров в Dict\nБазовый набор параметров (один эксперимент)\n\n\n::: {#22 .cell execution_count=1}\n``` {.julia .cell-code}\nbase_params = Dict(\n    :u0 => [1.0],\n    :α => 0.3,\n    :tspan => (0.0, 10.0),\n    :solver => Tsit5(),\n    :saveat => 0.1,\n    :experiment_name => \"base_experiment\"\n)\n\nprintln(\"Базовые параметры эксперимента:\")\nfor (key, value) in base_params\n    println(\" $key = $value\")\nend\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nБазовые параметры эксперимента:\n α = 0.3\n u0 = [1.0]\n saveat = 0.1\n solver = OrdinaryDiffEqTsit5.Tsit5{typeof(OrdinaryDiffEqCore.trivial_limiter!), typeof(OrdinaryDiffEqCore.trivial_limiter!), Static.False}(OrdinaryDiffEqCore.trivial_limiter!, OrdinaryDiffEqCore.trivial_limiter!, static(false))\n experiment_name = base_experiment\n tspan = (0.0, 10.0)\n```\n:::\n:::\n\n\n\n\n## Функция-обертка для запуска одного эксперимента\n\n\n::: {#24 .cell execution_count=1}\n``` {.julia .cell-code}\nfunction run_single_experiment(params::Dict)\n    @unpack u0, α, tspan, solver, saveat = params\n    prob = ODEProblem(exponential_growth!, u0, tspan, (α=α,))\n    sol = solve(prob, solver; saveat=saveat)\n    final_population = last(sol.u)[1]\n    doubling_time = log(2) / α\n    return Dict(\n        \"solution\" => sol,\n        \"time_points\" => sol.t,\n        \"population_values\" => first.(sol.u),\n        \"final_population\" => final_population,\n        \"doubling_time\" => doubling_time,\n        \"parameters\" => params\n    )\nend\n```\n\n::: {.cell-output .cell-output-display execution_count=1}\n```\nrun_single_experiment (generic function with 1 method)\n```\n:::\n:::\n\n\n\n\n## Запуск базового эксперимента\n\n\n::: {#26 .cell execution_count=1}\n``` {.julia .cell-code}\ndata, path = produce_or_load(\n    datadir(script_name, \"single\"),\n    base_params,\n    run_single_experiment,\n    prefix = \"exp_growth\",\n    tag = false,\n    verbose = true\n)\n\nprintln(\"\\nРезультаты базового эксперимента:\")\nprintln(\" Финальная популяция: \", data[\"final_population\"])\nprintln(\" Время удвоения: \", round(data[\"doubling_time\"]; digits=2))\nprintln(\" Файл результатов: \", path)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[ Info: File /home/vvmalyuga/work/study/2026-1/2026-1==study--simulation-modeling/labs/lab01/project/data/worker/single/exp_growth_experiment_name=base_experiment_saveat=0.1_α=0.3.jld2 does not exist. Producing it now...\n[ Info: File /home/vvmalyuga/work/study/2026-1/2026-1==study--simulation-modeling/labs/lab01/project/data/worker/single/exp_growth_experiment_name=base_experiment_saveat=0.1_α=0.3.jld2 saved.\n\nРезультаты базового эксперимента:\n Финальная популяция: 20.085448516186737\n Время удвоения: 2.31\n Файл результатов: /home/vvmalyuga/work/study/2026-1/2026-1==study--simulation-modeling/labs/lab01/project/data/worker/single/exp_growth_experiment_name=base_experiment_saveat=0.1_α=0.3.jld2\n```\n:::\n:::\n\n\n\n\n## Визуализация базового эксперимента\n\n\n::: {#28 .cell execution_count=1}\n``` {.julia .cell-code}\np1 = plot(data[\"time_points\"], data[\"population_values\"],\n          label=\"α = $(base_params[:α])\",\n          xlabel=\"Время, t\",\n          ylabel=\"Популяция, u(t)\",\n          title=\"Экспоненциальный рост (базовый эксперимент)\",\n          lw=2,\n          legend=:topleft,\n          grid=true)\n\nsavefig(plotsdir(script_name, \"single_experiment.png\"))\n```\n\n::: {.cell-output .cell-output-display execution_count=1}\n```\n\"/home/vvmalyuga/work/study/2026-1/2026-1==study--simulation-modeling/labs/lab01/project/plots/worker/single_experiment.png\"\n```\n:::\n:::\n\n\n\n\n## Параметрическое сканирование\nСетка параметров для сканирования\n\n\n::: {#30 .cell execution_count=1}\n``` {.julia .cell-code}\nparam_grid = Dict(\n    :u0 => [[1.0]],\n    :α => [0.1, 0.3, 0.5, 0.8, 1.0],\n    :tspan => [(0.0, 10.0)],\n    :solver => [Tsit5()],\n    :saveat => [0.1],\n    :experiment_name => [\"parametric_scan\"]\n)\n\nall_params = dict_list(param_grid)\n\nprintln(\"\\n\" * \"=\"^60)\nprintln(\"ПАРАМЕТРИЧЕСКОЕ СКАНИРОВАНИЕ\")\nprintln(\"Всего комбинаций параметров: \", length(all_params))\nprintln(\"Исследуемые значения α: \", param_grid[:α])\nprintln(\"=\"^60)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n============================================================\nПАРАМЕТРИЧЕСКОЕ СКАНИРОВАНИЕ\nВсего комбинаций параметров: 5\nИсследуемые значения α: [0.1, 0.3, 0.5, 0.8, 1.0]\n============================================================\n```\n:::\n:::\n\n\n\n\n## Запуск всех экспериментов\n\n\n::: {#32 .cell execution_count=1}\n``` {.julia .cell-code}\nall_results = []\nall_dfs = []\n\nfor (i, params) in enumerate(all_params)\n    println(\"Прогресс: $i/$(length(all_params)) | α = $(params[:α])\")\n    data, path = produce_or_load(\n        datadir(script_name, \"parametric_scan\"),\n        params,\n        run_single_experiment,\n        prefix = \"scan\",\n        tag = false,\n        verbose = false\n    )\n\n    result_summary = merge(\n        params,\n        Dict(\n            :final_population => data[\"final_population\"],\n            :doubling_time => data[\"doubling_time\"],\n            :filepath => path\n        )\n    )\n    push!(all_results, result_summary)\n\n    df = DataFrame(\n        t = data[\"time_points\"],\n        u = data[\"population_values\"],\n        α = fill(params[:α], length(data[\"time_points\"]))\n    )\n    push!(all_dfs, df)\nend\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nПрогресс: 1/5 | α = 0.1\nПрогресс: 2/5 | α = 0.3\nПрогресс: 3/5 | α = 0.5\nПрогресс: 4/5 | α = 0.8\nПрогресс: 5/5 | α = 1.0\n```\n:::\n:::\n\n\n\n\n## Анализ и визуализация результатов\n\n\n::: {#34 .cell execution_count=1}\n``` {.julia .cell-code}\nresults_df = DataFrame(all_results)\nprintln(\"\\nСводная таблица результатов:\")\nprintln(results_df[!, [:α, :final_population, :doubling_time]])\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nСводная таблица результатов:\n5×3 DataFrame\n Row │ α        final_population  doubling_time \n     │ Float64  Float64           Float64       \n─────┼──────────────────────────────────────────\n   1 │     0.1           2.71828       6.93147\n   2 │     0.3          20.0854        2.31049\n   3 │     0.5         148.409         1.38629\n   4 │     0.8        2980.57          0.866434\n   5 │     1.0       22021.0           0.693147\n```\n:::\n:::\n\n\n\n\nСравнительный график всех траекторий\n\n\n::: {#36 .cell execution_count=1}\n``` {.julia .cell-code}\np2 = plot(size=(800, 500), dpi=150)\nfor params in all_params\n    data, _ = produce_or_load(\n        datadir(script_name, \"parametric_scan\"),\n        params,\n        run_single_experiment,\n        prefix = \"scan\"\n    )\n    plot!(p2, data[\"time_points\"], data[\"population_values\"],\n          label=\"α = $(params[:α])\",\n          lw=2,\n          alpha=0.8)\nend\n\nplot!(p2,\n      xlabel=\"Время, t\",\n      ylabel=\"Популяция, u(t)\",\n      title=\"Параметрическое исследование: влияние α на рост\",\n      legend=:topleft,\n      grid=true)\n\nsavefig(plotsdir(script_name, \"parametric_scan_comparison.png\"))\n```\n\n::: {.cell-output .cell-output-display execution_count=1}\n```\n\"/home/vvmalyuga/work/study/2026-1/2026-1==study--simulation-modeling/labs/lab01/project/plots/worker/parametric_scan_comparison.png\"\n```\n:::\n:::\n\n\n\n\nГрафик зависимости времени удвоения от α\n\n\n::: {#38 .cell execution_count=1}\n``` {.julia .cell-code}\np3 = plot(results_df.α, results_df.doubling_time,\n          seriestype=:scatter,\n          label=\"Численное решение\",\n          xlabel=\"Скорость роста, α\",\n          ylabel=\"Время удвоения, t₂\",\n          title=\"Зависимость времени удвоения от α\",\n          markersize=8,\n          markercolor=:red,\n          legend=:topright)\n\nα_range = 0.1:0.01:1.0\nplot!(p3, α_range, log(2) ./ α_range,\n      label=\"Теория: t₂ = ln(2)/α\",\n      lw=2,\n      linestyle=:dash,\n      linecolor=:blue)\n\nsavefig(plotsdir(script_name, \"doubling_time_vs_alpha.png\"))\n```\n\n::: {.cell-output .cell-output-display execution_count=1}\n```\n\"/home/vvmalyuga/work/study/2026-1/2026-1==study--simulation-modeling/labs/lab01/project/plots/worker/doubling_time_vs_alpha.png\"\n```\n:::\n:::\n\n\n\n\n## Бенчмаркинг\n\n\n::: {#40 .cell execution_count=1}\n``` {.julia .cell-code}\nprintln(\"\\n\" * \"=\"^60)\nprintln(\"Бенчмаркинг для разных значений α\")\nprintln(\"=\"^60)\n\nbenchmark_results = []\nfor α_value in param_grid[:α]\n    bench_params = Dict(\n        :u0 => [1.0],\n        :α => α_value,\n        :tspan => (0.0, 10.0),\n        :solver => Tsit5(),\n        :saveat => 0.1\n    )\n\n    function benchmark_run()\n        prob = ODEProblem(exponential_growth!,\n                          bench_params[:u0],\n                          bench_params[:tspan],\n                          (α=bench_params[:α],))\n        return solve(prob, bench_params[:solver]; saveat=bench_params[:saveat])\n    end\n\n    println(\"\\nБенчмарк для α = $α_value:\")\n    b = @benchmark $benchmark_run() samples=100 evals=1\n    push!(benchmark_results, (α=α_value, time=median(b).time/1e9))\n    println(\" Среднее время: \", round(median(b).time/1e9; digits=4), \" сек\")\nend\n\nbench_df = DataFrame(benchmark_results)\n\np4 = plot(bench_df.α, bench_df.time,\n          seriestype=:scatter,\n          label=\"Время вычисления\",\n          xlabel=\"Скорость роста, α\",\n          ylabel=\"Время вычисления, сек\",\n          title=\"Зависимость времени вычисления от α\",\n          markersize=8,\n          markercolor=:green,\n          legend=:topleft)\n\nsavefig(plotsdir(script_name, \"computation_time_vs_alpha.png\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n============================================================\nБенчмаркинг для разных значений α\n============================================================\n\nБенчмарк для α = 0.1:\n Среднее время: 0.0002 сек\n\nБенчмарк для α = 0.3:\n Среднее время: 0.0002 сек\n\nБенчмарк для α = 0.5:\n Среднее время: 0.0002 сек\n\nБенчмарк для α = 0.8:\n Среднее время: 0.0002 сек\n\nБенчмарк для α = 1.0:\n Среднее время: 0.0002 сек\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=1}\n```\n\"/home/vvmalyuga/work/study/2026-1/2026-1==study--simulation-modeling/labs/lab01/project/plots/worker/computation_time_vs_alpha.png\"\n```\n:::\n:::\n\n\n\n\n## Сохранение всех результатов\n\n\n::: {#42 .cell execution_count=1}\n``` {.julia .cell-code}\n@save datadir(script_name, \"all_results.jld2\") base_params param_grid all_params results_df bench_df\n@save datadir(script_name, \"all_plots.jld2\") p1 p2 p3 p4\n\nprintln(\"\\n\" * \"=\"^60)\nprintln(\"ЛАБОРАТОРНАЯ РАБОТА ЗАВЕРШЕНА\")\nprintln(\"=\"^60)\nprintln(\"\\nРезультаты сохранены в:\")\nprintln(\" • data/$(script_name)/single/ - базовый эксперимент\")\nprintln(\" • data/$(script_name)/parametric_scan/ - параметрическое сканирование\")\nprintln(\" • data/$(script_name)/all_results.jld2 - сводные данные\")\nprintln(\" • plots/$(script_name)/ - все графики\")\nprintln(\"\\nДля анализа результатов используйте:\")\nprintln(\" using JLD2, DataFrames\")\nprintln(\" @load \\\"data/$(script_name)/all_results.jld2\\\"\")\nprintln(\" println(results_df)\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n============================================================\nЛАБОРАТОРНАЯ РАБОТА ЗАВЕРШЕНА\n============================================================\n\nРезультаты сохранены в:\n • data/worker/single/ - базовый эксперимент\n • data/worker/parametric_scan/ - параметрическое сканирование\n • data/worker/all_results.jld2 - сводные данные\n • plots/worker/ - все графики\n\nДля анализа результатов используйте:\n using JLD2, DataFrames\n @load \"data/worker/all_results.jld2\"\n println(results_df)\n```\n:::\n:::\n\n\n\n\n\n\n\n\n# Выводы\n\nВ ходе работы была реализована модель экспоненциального роста.\n\n# Список литературы{.unnumbered}\n\n:::{#refs}\n:::\n\n",
    "supporting": [
      "simulation-modeling-lab01-report_files"
    ],
    "filters": [],
    "includes": {}
  }
}